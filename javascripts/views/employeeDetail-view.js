var app=app||{};!function(){"use strict";app.EmployeeDetailView=Backbone.View.extend({id:"employee-detail",events:{"click #btn-back":"close","click #btn-delete":"destroy","dblclick span":"edit","keypress input":"updateOnEnter","keydown input":"revert","blur input":"update"},template:Handlebars.compile($("#employee-details").html()),render:function(){return this.$el.html(this.template(this.model.toJSON())),this},edit:function(e){var t=$(e.target);t.parent().addClass("editing"),t.next().focus()},updateOnEnter:function(e){13===e.which&&this.update(e)},update:function(e){var t=$(e.target),a=t.val().trim()||"<null>",i=t.attr("id");return a===this.model.get(i)?void t.parent().removeClass("editing"):(this.model.save(i,a),t.parent().removeClass("editing"),this.render(),void Toast.alert('<span style="color: yellow">Updated</span> '+i))},revert:function(e){var t=$(e.target);27===e.which&&(t.parent().removeClass("editing"),t.val(this.model.get(t.attr("id"))))},close:function(){app.router.navigate("/"),this.remove()},destroy:function(){Toast.alert('<span style="color: red">Deleted</span> '+this.model.get("name")),this.model.destroy(),app.router.navigate("/"),this.remove()}})}();